<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="styles.css">
    <title>YARR Web Raytracer Demo</title>
  </head>
  <body>
      <!-- <label id="numSamplesTitle">Num Samples: </label>
      <output id="numSamplesLabel">1</output> -->
      <div class="dropdown">
        <button onclick="myFunction()" class="dropbtn">Scene Selector</button>
          <label id="sceneNumTitle">Scene: </label>
          <output id="sceneNum">0</output>
          <div id="myDropdown" class="dropdown-content">
            <a href="#scene" onclick="sceneSelect('0'); return false;">0 - 1st Week - Final</a>
            <a href="#scene" onclick="sceneSelect('1'); return false;">1 - 2nd Week - 4.1</a>
            <a href="#scene" onclick="sceneSelect('2'); return false;">2 - 2nd Week - 5.1</a>
            <a href="#scene" onclick="sceneSelect('3'); return false;">3 - 2nd Week - 6.2</a>
            <a href="#scene" onclick="sceneSelect('4'); return false;">4 - 2nd Week - 7.4</a>
            <a href="#scene" onclick="sceneSelect('5'); return false;">5 - 2nd Week - 7.6</a>
            <a href="#scene" onclick="sceneSelect('6'); return false;">6 - 2nd Week - 8.0</a>
            <a href="#scene" onclick="sceneSelect('7'); return false;">7 - 2nd Week - 8.2</a>
            <a href="#scene" onclick="sceneSelect('8'); return false;">8 - 2nd Week - 9.1</a>
            <a href="#scene" onclick="sceneSelect('9'); return false;">9 - 2nd Week - Final</a>
        </div>
      </div>
      <div>
        <label id="numSamplesTitle">Num Samples</label>
        <input type="range" min="1" max="1000" value="32" class="slider" list="numSamplesTickMarks" id="numSamplesSlider">
        <datalist id="numSamplesTickMarks">
          <option value="1" label="1"></option>
          <option value="50" label="8"></option>
          <option value="100" label="16"></option>
          <option value="200" label="32"></option>
          <option value="300" label="64"></option>
          <option value="400" label="128"></option>
          <option value="500" label="256"></option>
          <option value="600" label="512"></option>
          <option value="700" label="1024"></option>
          <option value="800" label="1024"></option>
          <option value="900" label="1024"></option>
          <option value="1000" label="1024"></option>
        </datalist>
      </div>
      <div>
        <label id="maxDepthTitle">Max Ray Depth</label>
        <input type="range" min="1" max="100" value="50" class="slider" list="maxDepthTickMarks" id="maxDepthSlider">
        <datalist id="maxDepthTickMarks">
          <option value="1" label="1"></option>
          <option value="8" label="10"></option>
          <option value="16" label="25"></option>
          <option value="32" label="50"></option>
          <option value="64" label="75"></option>
          <option value="128" label="100"></option>
        </datalist>
      </div>
    <div>
      <output id="numThreads"></output>
    </div>
    <div>
      <input type="checkbox" name="bvhCheckbox" class="inline checkbox" id="bvhCheckbox" value="false">
      <label id="bvhCheckboxTitle">Enable Bounding Volume Hierarchies (BVH)</label>
    </div>
    <br />
    <div>
      <input type="button" id="singleThreadBtn" value="Render with single-thread" disabled />
      <input type="button" id="multiThreadBtn" value="Render with multi-threads" disabled />
      <input type="button" id="manualWebWorkers" value="Render with standard web workers" disabled />
      <input type="button" id="manualWebWorkersPreview" value="Render with preview (web workers)" disabled />
      <output id="time"></output>
    </div>
    <br />
    <canvas id="canvas" width="512" height="512"></canvas>
    <script>
      /* When the user clicks on the button, 
      toggle between hiding and showing the dropdown content */
      function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
      }
      
      // Close the dropdown if the user clicks outside of it
      window.onclick = function(event) {
        if (!event.target.matches('.dropbtn')) {
          var dropdowns = document.getElementsByClassName("dropdown-content");
          var i;
          for (i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) {
              openDropdown.classList.remove('show');
            }
          }
        }
      }

      function sceneSelect(sceneNum) {
        console.log(sceneNum);
        document.getElementById('sceneNum').value = sceneNum;
      }
    </script>
    <script type="module" src="index.js"></script>
  </body>
</html>
